„
[C:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Controllers\HomeController.cs
	namespace		 	
RedRobin		
 
.		 
WebApp		 
.		 
Controllers		 %
{

 
public 

class 
HomeController 
:  !

Controller" ,
{ 
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Privacy $
($ %
)% &
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
ResponseCache	 
( 
Duration 
=  !
$num" #
,# $
Location% -
=. /!
ResponseCacheLocation0 E
.E F
NoneF J
,J K
NoStoreL S
=T U
trueV Z
)Z [
][ \
public 
IActionResult 
Error "
(" #
)# $
{ 	
return 
View 
( 
new 
ErrorViewModel *
{+ ,
	RequestId- 6
=7 8
Activity9 A
.A B
CurrentB I
?I J
.J K
IdK M
??N P
HttpContextQ \
.\ ]
TraceIdentifier] l
}m n
)n o
;o p
} 	
} 
} ∞C
aC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Controllers\IngredientController.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Controllers %
{ 
public 

class  
IngredientController %
:& '

Controller( 2
{ 
public 
static 
int 
restID  
=! "
$num# $
;$ %
public 
IRedRobinRepo 
Repo !
{" #
get$ '
;' (
}) *
public  
IngredientController #
(# $
IRedRobinRepo$ 1
repo2 6
)6 7
{ 	
Repo 
= 
repo 
; 
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
IEnumerable 
< 
Library 
.  
Models  &
.& '

Restaurant' 1
>1 2
libRests3 ;
=< =
Repo> B
.B C
GetAllRestaurantsC T
(T U
)U V
;V W
IEnumerable 
< 
Models 
. 

Restaurant )
>) *
webRests+ 3
=4 5
libRests6 >
.> ?
Select? E
(E F
xF G
=>H J
newK N
ModelsO U
.U V

RestaurantV `
{ 
Id   
=   
x   
.   
Id   
,   
Location!! 
=!! 
x!! 
.!! 
Location!! %
,!!% &
Phone"" 
="" 
x"" 
."" 
Phone"" 
}## 
)## 
;## 
return$$ 
View$$ 
($$ 
webRests$$  
)$$  !
;$$! "
}%% 	
public(( 
ActionResult(( 
Details(( #
(((# $
int(($ '
id((( *
)((* +
{)) 	
restID** 
=** 
id** 
;** 
IEnumerable++ 
<++ 
RestIng++ 
>++  

libRestIng++! +
=++, -
Repo++. 2
.++2 3
GetAllIngredientsDB++3 F
(++F G
restID++G M
)++M N
.++N O
ToList++O U
(++U V
)++V W
;++W X
Library,, 
.,, 
Models,, 
.,, 

Restaurant,, %
libRest,,& -
=,,. /
Repo,,0 4
.,,4 5
GetRestaurantById,,5 F
(,,F G
restID,,G M
),,M N
;,,N O
IEnumerable-- 
<-- 
Models-- 
.-- 

Ingredient-- )
>--) *
webRests--+ 3
=--4 5

libRestIng--6 @
.--@ A
Select--A G
(--G H
x--H I
=>--J L
new--M P
Models--Q W
.--W X

Ingredient--X b
{.. 
Id// 
=// 
x// 
.// 
ingredientId// #
,//# $
name00 
=00 
Repo00 
.00 
GetIngredientById00 -
(00- .
x00. /
.00/ 0
ingredientId000 <
)00< =
.00= >
Name00> B
,00B C

QtyToStock11 
=11 
x11 
.11 
	resIngQty11 (
,11( )
Cost22 
=22 
Repo22 
.22 
GetIngredientById22 -
(22- .
x22. /
.22/ 0
ingredientId220 <
)22< =
.22= >
Cost22> B
,22B C

Restaurant33 
=33 
libRest33 $
.33$ %
Location33% -
}44 
)44 
;44 
return66 
View66 
(66 
webRests66  
)66  !
;66! "
}77 	
public:: 
ActionResult:: 
Create:: "
(::" #
)::# $
{;; 	
return<< 
View<< 
(<< 
)<< 
;<< 
}== 	
[@@ 	
HttpPost@@	 
]@@ 
[AA 	$
ValidateAntiForgeryTokenAA	 !
]AA! "
publicBB 
ActionResultBB 
CreateBB "
(BB" #
[BB# $
	FromRouteBB$ -
]BB- .
intBB. 1
idBB2 4
,BB4 5
ModelsBB6 <
.BB< =

IngredientBB= G

ingredientBBH R
)BBR S
{CC 	
tryDD 
{EE 
ifFF 
(FF 

ModelStateFF 
.FF 
IsValidFF &
)FF& '
{GG 
RepoHH 
.HH 
AddIngredientHH &
(HH& '
newHH' * 
IngredientsInventoryHH+ ?
{II 
NameJJ 
=JJ 

ingredientJJ )
.JJ) *
nameJJ* .
,JJ. /
CostKK 
=KK 

ingredientKK )
.KK) *
CostKK* .
,KK. /
}LL 
)LL 
;LL 
RepoMM 
.MM 
SaveMM 
(MM 
)MM 
;MM   
IngredientsInventoryNN (
ingTableNN) 1
=NN2 3
RepoNN4 8
.NN8 9

GetLastIngNN9 C
(NNC D
)NND E
.NNE F
LastNNF J
(NNJ K
)NNK L
;NNL M
RepoOO 
.OO #
AddRestaurantIngredientOO 0
(OO0 1
newOO1 4
RestIngOO5 <
{PP 
	resIngQtyQQ !
=QQ" #

ingredientQQ$ .
.QQ. /

QtyToStockQQ/ 9
,QQ9 :
restaurantIdRR $
=RR% &
restIDRR' -
,RR- .
ingredientIdSS $
=SS% &
ingTableSS' /
.SS/ 0
IdSS0 2
}TT 
)TT 
;TT 
RepoUU 
.UU 
SaveUU 
(UU 
)UU 
;UU  
returnWW 
RedirectToActionWW +
(WW+ ,
nameofWW, 2
(WW2 3
IndexWW3 8
)WW8 9
)WW9 :
;WW: ;
}XX 
returnYY 
ViewYY 
(YY 

ingredientYY &
)YY& '
;YY' (
}ZZ 
catch[[ 
{\\ 
return]] 
View]] 
(]] 
)]] 
;]] 
}^^ 
}__ 	
publicbb 
ActionResultbb 
Editbb  
(bb  !
intbb! $
idbb% '
)bb' (
{cc 	
returndd 
Viewdd 
(dd 
)dd 
;dd 
}ee 	
[hh 	
HttpPosthh	 
]hh 
[ii 	$
ValidateAntiForgeryTokenii	 !
]ii! "
publicjj 
ActionResultjj 
Editjj  
(jj  !
[jj! "
	FromRoutejj" +
]jj+ ,
intjj, /
idjj0 2
,jj2 3
IFormCollectionjj4 C

collectionjjD N
)jjN O
{kk 	
tryll 
{mm 
returnpp 
RedirectToActionpp '
(pp' (
nameofpp( .
(pp. /
Indexpp/ 4
)pp4 5
)pp5 6
;pp6 7
}qq 
catchrr 
{ss 
returntt 
Viewtt 
(tt 
)tt 
;tt 
}uu 
}vv 	
publicyy 
ActionResultyy 
Deleteyy "
(yy" #
intyy# &
idyy' )
)yy) *
{zz 	
return{{ 
View{{ 
({{ 
){{ 
;{{ 
}|| 	
[ 	
HttpPost	 
] 
[
ÄÄ 	&
ValidateAntiForgeryToken
ÄÄ	 !
]
ÄÄ! "
public
ÅÅ 
ActionResult
ÅÅ 
Delete
ÅÅ "
(
ÅÅ" #
int
ÅÅ# &
id
ÅÅ' )
,
ÅÅ) *
IFormCollection
ÅÅ+ :

collection
ÅÅ; E
)
ÅÅE F
{
ÇÇ 	
try
ÉÉ 
{
ÑÑ 
return
áá 
RedirectToAction
áá '
(
áá' (
nameof
áá( .
(
áá. /
Index
áá/ 4
)
áá4 5
)
áá5 6
;
áá6 7
}
àà 
catch
ââ 
{
ää 
return
ãã 
View
ãã 
(
ãã 
)
ãã 
;
ãã 
}
åå 
}
çç 	
}
éé 
}èè Ã∑
\C:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Controllers\OrderController.cs
	namespace

 	
RedRobin


 
.

 
WebApp

 
.

 
Controllers

 %
{ 
public 

class 
OrderController  
:! "

Controller# -
{ 
public 
static 
int 
restID  
=! "
$num# $
;$ %
public 
static 
decimal 
	totalCost '
=( )
$num* +
;+ ,
public 
static 

Dictionary  
<  !
decimal! (
,( )
int* -
>- .
dicQtyOrder/ :
=; <
new= @

DictionaryA K
<K L
decimalL S
,S T
intU X
>X Y
(Y Z
)Z [
;[ \
public 
IRedRobinRepo 
Repo !
{" #
get$ '
;' (
}) *
public 
OrderController 
( 
IRedRobinRepo ,
repo- 1
)1 2
{ 	
Repo 
= 
repo 
; 
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
IEnumerable 
< 
Library 
.  
Models  &
.& '

Restaurant' 1
>1 2
libRests3 ;
=< =
Repo> B
.B C
GetAllRestaurantsC T
(T U
)U V
;V W
IEnumerable 
< 
Models 
. 

Restaurant )
>) *
webRests+ 3
=4 5
libRests6 >
.> ?
Select? E
(E F
xF G
=>H J
newK N
ModelsO U
.U V

RestaurantV `
{ 
Id 
= 
x 
. 
Id 
, 
Location 
= 
x 
. 
Location %
,% &
Phone   
=   
x   
.   
Phone   
}!! 
)!! 
;!! 
return"" 
View"" 
("" 
webRests""  
)""  !
;""! "
}## 	
public&& 
ActionResult&& 
Details&& #
(&&# $
int&&$ '
id&&( *
,&&* +
int&&+ .
sort&&/ 3
)&&3 4
{'' 	
restID(( 
=(( 
id(( 
;(( 
switch** 
(** 
sort** 
)** 
{++ 
case,, 
$num,, 
:,, 
IEnumerable-- 
<--  
Orders--  &
>--& '
libOrderEar--( 3
=--4 5
Repo--6 :
.--: ;+
GetOrdersfromRestaurantEarliest--; Z
(--Z [
restID--[ a
)--a b
.--b c
ToList--c i
(--i j
)--j k
;--k l
IEnumerable.. 
<..  
Models..  &
...& '
Orders..' -
>..- .
webRestsEarl../ ;
=..< =
libOrderEar..> I
...I J
Select..J P
(..P Q
x..Q R
=>..S U
new..V Y
Models..Z `
...` a
Orders..a g
{// 
Id00 
=00 
x00 
.00 
Id00 !
,00! "
custName11  
=11! "
Repo11# '
.11' (
GetCustomerById11( 7
(117 8
x118 9
.119 :
	cutomerID11: C
)11C D
.11D E
Name11E I
,11I J
	orderDate22 !
=22" #
x22$ %
.22% &
	orderDate22& /
,22/ 0

orderTotal33 "
=33# $
x33% &
.33& '
	CostTotal33' 0
}44 
)44 
;44 
return66 
View66 
(66  
webRestsEarl66  ,
)66, -
;66- .
case88 
$num88 
:88 
IEnumerable99 
<99  
Orders99  &
>99& '
libOrderLast99( 4
=995 6
Repo997 ;
.99; <)
GetOrdersfromRestaurantLatest99< Y
(99Y Z
restID99Z `
)99` a
.99a b
ToList99b h
(99h i
)99i j
;99j k
IEnumerable:: 
<::  
Models::  &
.::& '
Orders::' -
>::- .
webRestsLast::/ ;
=::< =
libOrderLast::> J
.::J K
Select::K Q
(::Q R
x::R S
=>::T V
new::W Z
Models::[ a
.::a b
Orders::b h
{;; 
Id<< 
=<< 
x<< 
.<< 
Id<< !
,<<! "
custName==  
===! "
Repo==# '
.==' (
GetCustomerById==( 7
(==7 8
x==8 9
.==9 :
	cutomerID==: C
)==C D
.==D E
Name==E I
,==I J
	orderDate>> !
=>>" #
x>>$ %
.>>% &
	orderDate>>& /
,>>/ 0

orderTotal?? "
=??# $
x??% &
.??& '
	CostTotal??' 0
}@@ 
)@@ 
;@@ 
returnBB 
ViewBB 
(BB  
webRestsLastBB  ,
)BB, -
;BB- .
defaultCC 
:CC 
IEnumerableDD 
<DD  
OrdersDD  &
>DD& '
libOrderDD( 0
=DD1 2
RepoDD3 7
.DD7 8)
GetOrdersfromRestaurantLatestDD8 U
(DDU V
restIDDDV \
)DD\ ]
.DD] ^
ToListDD^ d
(DDd e
)DDe f
;DDf g
IEnumerableEE 
<EE  
ModelsEE  &
.EE& '
OrdersEE' -
>EE- .
webRestsEE/ 7
=EE8 9
libOrderEE: B
.EEB C
SelectEEC I
(EEI J
xEEJ K
=>EEL N
newEEO R
ModelsEES Y
.EEY Z
OrdersEEZ `
{FF 
IdGG 
=GG 
xGG 
.GG 
IdGG !
,GG! "
custNameHH  
=HH! "
RepoHH# '
.HH' (
GetCustomerByIdHH( 7
(HH7 8
xHH8 9
.HH9 :
	cutomerIDHH: C
)HHC D
.HHD E
NameHHE I
,HHI J
	orderDateII !
=II" #
xII$ %
.II% &
	orderDateII& /
,II/ 0

orderTotalJJ "
=JJ# $
xJJ% &
.JJ& '
	CostTotalJJ' 0
}KK 
)KK 
;KK 
returnMM 
ViewMM 
(MM  
webRestsMM  (
)MM( )
;MM) *
}NN 
}RR 	
publicUU 
ActionResultUU 
CreateUU "
(UU" #
)UU# $
{VV 	
returnWW 
ViewWW 
(WW 
)WW 
;WW 
}XX 	
[[[ 	
HttpPost[[	 
][[ 
[\\ 	$
ValidateAntiForgeryToken\\	 !
]\\! "
public]] 
ActionResult]] 
Create]] "
(]]" #
Models]]# )
.]]) *
Orders]]* 0
orders]]1 7
)]]7 8
{^^ 	
dicQtyOrder__ 
=__ 
new__ 

Dictionary__ (
<__( )
decimal__) 0
,__0 1
int__2 5
>__5 6
(__6 7
)__7 8
;__8 9
try`` 
{aa 
ifbb 
(bb 

ModelStatebb 
.bb 
IsValidbb &
)bb& '
{cc 
Repodd 
.dd 
AddCustomerdd $
(dd$ %
newdd% (
	Customersdd) 2
{ee 
Nameff 
=ff 
ordersff !
.ff! "
custNameff" *
,ff* +
Phonegg 
=gg 
ordersgg "
.gg" #
	custPhonegg# ,
}hh 
)hh 
;hh 
Repoii 
.ii 
Saveii 
(ii 
)ii 
;ii  
Repokk 
.kk 
	AddOrderskk "
(kk" #
newkk# &
Orderskk' -
{ll 
	orderDatemm !
=mm" #
DateTimemm$ ,
.mm, -
Nowmm- 0
,mm0 1
	cutomerIDnn !
=nn" #
Reponn$ (
.nn( )
GetLastCustnn) 4
(nn4 5
)nn5 6
.nn6 7
Idnn7 9
,nn9 :
restaurantIDoo $
=oo% &
restIDoo' -
,oo- .
	CostTotalpp !
=pp" #
$numpp$ %
}qq 
)qq 
;qq 
Reporr 
.rr 
Saverr 
(rr 
)rr 
;rr  
returntt 
RedirectToActiontt +
(tt+ ,
nameoftt, 2
(tt2 3
ProductsListtt3 ?
)tt? @
)tt@ A
;ttA B
}uu 
returnvv 
Viewvv 
(vv 
ordersvv "
)vv" #
;vv# $
}ww 
catchxx 
{yy 
return{{ 
View{{ 
({{ 
){{ 
;{{ 
}|| 
}}} 	
public
ÄÄ 
ActionResult
ÄÄ 
Edit
ÄÄ  
(
ÄÄ  !
int
ÄÄ! $
id
ÄÄ% '
)
ÄÄ' (
{
ÅÅ 	
return
ÇÇ 
View
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
[
ÜÜ 	
HttpPost
ÜÜ	 
]
ÜÜ 
[
áá 	&
ValidateAntiForgeryToken
áá	 !
]
áá! "
public
àà 
ActionResult
àà 
Edit
àà  
(
àà  !
int
àà! $
id
àà% '
,
àà' (
IFormCollection
àà) 8

collection
àà9 C
)
ààC D
{
ââ 	
try
ää 
{
ãã 
return
éé 
RedirectToAction
éé '
(
éé' (
nameof
éé( .
(
éé. /
Index
éé/ 4
)
éé4 5
)
éé5 6
;
éé6 7
}
èè 
catch
êê 
{
ëë 
return
íí 
View
íí 
(
íí 
)
íí 
;
íí 
}
ìì 
}
îî 	
public
óó 
ActionResult
óó 
Delete
óó "
(
óó" #
int
óó# &
id
óó' )
)
óó) *
{
òò 	
return
ôô 
View
ôô 
(
ôô 
)
ôô 
;
ôô 
}
öö 	
[
ùù 	
HttpPost
ùù	 
]
ùù 
[
ûû 	&
ValidateAntiForgeryToken
ûû	 !
]
ûû! "
public
üü 
ActionResult
üü 
Delete
üü "
(
üü" #
int
üü# &
id
üü' )
,
üü) *
IFormCollection
üü+ :

collection
üü; E
)
üüE F
{
†† 	
try
°° 
{
¢¢ 
return
•• 
RedirectToAction
•• '
(
••' (
nameof
••( .
(
••. /
Index
••/ 4
)
••4 5
)
••5 6
;
••6 7
}
¶¶ 
catch
ßß 
{
®® 
return
©© 
View
©© 
(
©© 
)
©© 
;
©© 
}
™™ 
}
´´ 	
public
≠≠ 
ActionResult
≠≠ 
ProductsList
≠≠ (
(
≠≠( )
)
≠≠) *
{
ÆÆ 	
IEnumerable
∞∞ 
<
∞∞ 
ResPro
∞∞ 
>
∞∞ 

libRestIng
∞∞  *
=
∞∞+ ,
Repo
∞∞- 1
.
∞∞1 2
GetAllProductsDB
∞∞2 B
(
∞∞B C
restID
∞∞C I
)
∞∞I J
;
∞∞J K
IEnumerable
±± 
<
±± 
Models
±± 
.
±± 
Product
±± &
>
±±& '
webRests
±±( 0
=
±±1 2

libRestIng
±±3 =
.
±±= >
Select
±±> D
(
±±D E
x
±±E F
=>
±±G I
new
±±J M
Models
±±N T
.
±±T U
Product
±±U \
{
≤≤ 
Id
≥≥ 
=
≥≥ 
x
≥≥ 
.
≥≥ 
	productId
≥≥  
,
≥≥  !
productName
¥¥ 
=
¥¥ 
Repo
¥¥ "
.
¥¥" #
GetProductById
¥¥# 1
(
¥¥1 2
x
¥¥2 3
.
¥¥3 4
	productId
¥¥4 =
)
¥¥= >
.
¥¥> ?
Name
¥¥? C
,
¥¥C D
	TotalCost
µµ 
=
µµ 
Repo
µµ  
.
µµ  !
GetProductById
µµ! /
(
µµ/ 0
x
µµ0 1
.
µµ1 2
	productId
µµ2 ;
)
µµ; <
.
µµ< =
Cost
µµ= A
,
µµA B
Type
∂∂ 
=
∂∂ 
Repo
∂∂ 
.
∂∂ 
GetProductById
∂∂ *
(
∂∂* +
x
∂∂+ ,
.
∂∂, -
	productId
∂∂- 6
)
∂∂6 7
.
∂∂7 8
Type
∂∂8 <
}
∑∑ 
)
∑∑ 
;
∑∑ 
return
ππ 
View
ππ 
(
ππ 
webRests
ππ  
)
ππ  !
;
ππ! "
}
∫∫ 	
public
ºº 
ActionResult
ºº 

AddProduct
ºº &
(
ºº& '
int
ºº' *
id
ºº+ -
)
ºº- .
{
ΩΩ 	
Products
ææ 
libRest
ææ 
=
ææ 
Repo
ææ #
.
ææ# $
GetProductById
ææ$ 2
(
ææ2 3
id
ææ3 5
)
ææ5 6
;
ææ6 7
var
¿¿ 
webRest
¿¿ 
=
¿¿ 
new
¿¿ 
Models
¿¿ $
.
¿¿$ %
Product
¿¿% ,
{
¡¡ 
productName
¬¬ 
=
¬¬ 
libRest
¬¬ %
.
¬¬% &
Name
¬¬& *
,
¬¬* +
	TotalCost
√√ 
=
√√ 
libRest
√√ #
.
√√# $
Cost
√√$ (
,
√√( )
Type
ƒƒ 
=
ƒƒ 
libRest
ƒƒ 
.
ƒƒ 
Type
ƒƒ #
,
ƒƒ# $
}
≈≈ 
;
≈≈ 
return
∆∆ 
View
∆∆ 
(
∆∆ 
webRest
∆∆ 
)
∆∆  
;
∆∆  !
}
«« 	
[
   	
HttpPost
  	 
]
   
[
ÀÀ 	&
ValidateAntiForgeryToken
ÀÀ	 !
]
ÀÀ! "
public
ÃÃ 
ActionResult
ÃÃ 

AddProduct
ÃÃ &
(
ÃÃ& '
Models
ÃÃ' -
.
ÃÃ- .
Product
ÃÃ. 5
product
ÃÃ6 =
)
ÃÃ= >
{
ÕÕ 	
try
œœ 
{
–– 
if
—— 
(
—— 

ModelState
—— 
.
—— 
IsValid
—— &
)
——& '
{
““ 
Repo
”” 
.
”” 
AddOrderProduct
”” (
(
””( )
new
””) ,
OrdPro
””- 3
{
‘‘ 
	productId
’’ !
=
’’" #
product
’’$ +
.
’’+ ,
Id
’’, .
,
’’. /
orderId
÷÷ 
=
÷÷  !
Repo
÷÷" &
.
÷÷& '

GetLastOrd
÷÷' 1
(
÷÷1 2
)
÷÷2 3
.
÷÷3 4
Last
÷÷4 8
(
÷÷8 9
)
÷÷9 :
.
÷÷: ;
Id
÷÷; =
}
◊◊ 
)
◊◊ 
;
◊◊ 
dicQtyOrder
ŸŸ 
.
ŸŸ  
Add
ŸŸ  #
(
ŸŸ# $
product
ŸŸ$ +
.
ŸŸ+ ,
	TotalCost
ŸŸ, 5
,
ŸŸ5 6
product
ŸŸ6 =
.
ŸŸ= >
QtyOrder
ŸŸ> F
)
ŸŸF G
;
ŸŸG H
	totalCost
€€ 
=
€€ 
	totalCost
€€  )
+
€€* +
product
€€, 3
.
€€3 4
	TotalCost
€€4 =
*
€€> ?
product
€€@ G
.
€€G H
QtyOrder
€€H P
;
€€P Q
Repo
‹‹ 
.
‹‹ 
Save
‹‹ 
(
‹‹ 
)
‹‹ 
;
‹‹  
Orders
ﬂﬂ 
ord
ﬂﬂ 
=
ﬂﬂ  
Repo
ﬂﬂ! %
.
ﬂﬂ% &

GetLastOrd
ﬂﬂ& 0
(
ﬂﬂ0 1
)
ﬂﬂ1 2
.
ﬂﬂ2 3
Last
ﬂﬂ3 7
(
ﬂﬂ7 8
)
ﬂﬂ8 9
;
ﬂﬂ9 :
foreach
‡‡ 
(
‡‡ 
var
‡‡  
item
‡‡! %
in
‡‡& (
Repo
‡‡) -
.
‡‡- .!
GetAllOrderProducts
‡‡. A
(
‡‡A B
ord
‡‡B E
.
‡‡E F
Id
‡‡F H
)
‡‡H I
)
‡‡I J
{
·· 
foreach
‚‚ 
(
‚‚  !
var
‚‚! $
item1
‚‚% *
in
‚‚+ -
Repo
‚‚. 2
.
‚‚2 3,
GetAllIngredientProductsToSubs
‚‚3 Q
(
‚‚Q R
item
‚‚R V
.
‚‚V W
Id
‚‚W Y
)
‚‚Y Z
)
‚‚Z [
{
„„ 
foreach
‰‰ #
(
‰‰$ %
var
‰‰% (
item2
‰‰) .
in
‰‰/ 1
Repo
‰‰2 6
.
‰‰6 7(
GetAllRestautantIngredient
‰‰7 Q
(
‰‰Q R
restID
‰‰R X
,
‰‰X Y
item1
‰‰Z _
.
‰‰_ `
ingredientId
‰‰` l
)
‰‰l m
)
‰‰m n
{
ÂÂ 
RestIng
ÊÊ  '
restIng
ÊÊ( /
=
ÊÊ0 1
new
ÊÊ2 5
RestIng
ÊÊ6 =
(
ÊÊ= >
)
ÊÊ> ?
;
ÊÊ? @
restIng
ÁÁ  '
.
ÁÁ' (
resIngID
ÁÁ( 0
=
ÁÁ1 2
item2
ÁÁ3 8
.
ÁÁ8 9
resIngID
ÁÁ9 A
;
ÁÁA B
restIng
ËË  '
.
ËË' (
ingredientId
ËË( 4
=
ËË5 6
item2
ËË7 <
.
ËË< =
ingredientId
ËË= I
;
ËËI J
restIng
ÈÈ  '
.
ÈÈ' (
restaurantId
ÈÈ( 4
=
ÈÈ5 6
item2
ÈÈ7 <
.
ÈÈ< =
restaurantId
ÈÈ= I
;
ÈÈI J
restIng
ÍÍ  '
.
ÍÍ' (
	resIngQty
ÍÍ( 1
=
ÍÍ2 3
item2
ÍÍ4 9
.
ÍÍ9 :
	resIngQty
ÍÍ: C
-
ÍÍD E
item1
ÍÍF K
.
ÍÍK L
	ingProQty
ÍÍL U
*
ÍÍV W
product
ÍÍX _
.
ÍÍ_ `
QtyOrder
ÍÍ` h
;
ÍÍh i
Repo
ÎÎ  $
.
ÎÎ$ %(
UpdateRestaurantIngredient
ÎÎ% ?
(
ÎÎ? @
restIng
ÎÎ@ G
)
ÎÎG H
;
ÎÎH I
}
ÏÏ 
}
ÌÌ 
}
ÓÓ 
Repo
ÔÔ 
.
ÔÔ 
Save
ÔÔ 
(
ÔÔ 
)
ÔÔ 
;
ÔÔ  
return
ÒÒ 
RedirectToAction
ÒÒ +
(
ÒÒ+ ,
nameof
ÒÒ, 2
(
ÒÒ2 3
ProductsList
ÒÒ3 ?
)
ÒÒ? @
)
ÒÒ@ A
;
ÒÒA B
}
ÚÚ 
return
ÛÛ 
View
ÛÛ 
(
ÛÛ 
product
ÛÛ #
)
ÛÛ# $
;
ÛÛ$ %
}
ÙÙ 
catch
ıı 
{
ˆˆ 
return
˜˜ 
View
˜˜ 
(
˜˜ 
)
˜˜ 
;
˜˜ 
}
¯¯ 
}
˘˘ 	
public
˚˚ 
ActionResult
˚˚ 
EditTotalCost
˚˚ )
(
˚˚) *
)
˚˚* +
{
¸¸ 	
try
˝˝ 
{
˛˛ 
Orders
ˇˇ 
ord
ˇˇ 
=
ˇˇ 
Repo
ˇˇ !
.
ˇˇ! "

GetLastOrd
ˇˇ" ,
(
ˇˇ, -
)
ˇˇ- .
.
ˇˇ. /
Last
ˇˇ/ 3
(
ˇˇ3 4
)
ˇˇ4 5
;
ˇˇ5 6
ord
ÄÄ 
.
ÄÄ 
	CostTotal
ÄÄ 
=
ÄÄ 
	totalCost
ÄÄ  )
;
ÄÄ) *
Repo
ÅÅ 
.
ÅÅ 
UpdateOrder
ÅÅ  
(
ÅÅ  !
ord
ÅÅ! $
)
ÅÅ$ %
;
ÅÅ% &
Repo
ÇÇ 
.
ÇÇ 
Save
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
return
ÑÑ 
RedirectToAction
ÑÑ '
(
ÑÑ' (
nameof
ÑÑ( .
(
ÑÑ. /
Index
ÑÑ/ 4
)
ÑÑ4 5
)
ÑÑ5 6
;
ÑÑ6 7
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
)
ÜÜ 
{
áá 
return
àà 
View
àà 
(
àà 
)
àà 
;
àà 
}
ââ 
}
ää 	
public
åå 
ActionResult
åå 
OrdersDetails
åå )
(
åå) *
int
åå* -
id
åå. 0
)
åå0 1
{
çç 	
Orders
éé 
libOrder
éé 
=
éé 
Repo
éé "
.
éé" #
GetOrdersById
éé# 0
(
éé0 1
id
éé1 3
)
éé3 4
;
éé4 5
var
êê 
listPro
êê 
=
êê 
Repo
êê 
.
êê !
GetAllOrderProducts
êê 2
(
êê2 3
id
êê3 5
)
êê5 6
.
êê6 7
ToList
êê7 =
(
êê= >
)
êê> ?
;
êê? @
var
îî 
webRest
îî 
=
îî 
new
îî 
Models
îî $
.
îî$ %
Orders
îî% +
{
ïï 
Id
ññ 
=
ññ 
libOrder
ññ 
.
ññ 
Id
ññ  
,
ññ  !

orderTotal
óó 
=
óó 
libOrder
óó %
.
óó% &
	CostTotal
óó& /
,
óó/ 0
	orderDate
òò 
=
òò 
libOrder
òò $
.
òò$ %
	orderDate
òò% .
,
òò. /
custName
ôô 
=
ôô 
Repo
ôô 
.
ôô  
GetCustomerById
ôô  /
(
ôô/ 0
libOrder
ôô0 8
.
ôô8 9
	cutomerID
ôô9 B
)
ôôB C
.
ôôC D
Name
ôôD H
,
ôôH I
	custPhone
öö 
=
öö 
Repo
öö  
.
öö  !
GetCustomerById
öö! 0
(
öö0 1
libOrder
öö1 9
.
öö9 :
	cutomerID
öö: C
)
ööC D
.
ööD E
Phone
ööE J
,
ööJ K
products
úú 
=
úú 
listPro
úú "
.
úú" #
Select
úú# )
(
úú) *
y
úú* +
=>
úú, .
new
úú/ 2
Models
úú3 9
.
úú9 :
Product
úú: A
{
ùù 
productName
üü 
=
üü  !
Repo
üü" &
.
üü& '
GetProductById
üü' 5
(
üü5 6
y
üü6 7
.
üü7 8
Id
üü8 :
)
üü: ;
.
üü; <
Name
üü< @
,
üü@ A
Type
†† 
=
†† 
Repo
†† 
.
††  
GetProductById
††  .
(
††. /
y
††/ 0
.
††0 1
Id
††1 3
)
††3 4
.
††4 5
Type
††5 9
,
††9 :
	TotalCost
°° 
=
°° 
Repo
°°  $
.
°°$ %
GetProductById
°°% 3
(
°°3 4
y
°°4 5
.
°°5 6
Id
°°6 8
)
°°8 9
.
°°9 :
Cost
°°: >
,
°°> ?
QtyOrder
¢¢ 
=
¢¢ 
dicQtyOrder
¢¢ *
[
¢¢* +
Repo
¢¢+ /
.
¢¢/ 0
GetProductById
¢¢0 >
(
¢¢> ?
y
¢¢? @
.
¢¢@ A
Id
¢¢A C
)
¢¢C D
.
¢¢D E
Cost
¢¢E I
]
¢¢I J
}
££ 
)
££ 
,
££ 
}
§§ 
;
§§ 
return
•• 
View
•• 
(
•• 
webRest
•• 
)
••  
;
••  !
}
¶¶ 	
}
ßß 
}®® £{
^C:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Controllers\ProductController.cs
	namespace

 	
RedRobin


 
.

 
WebApp

 
.

 
Controllers

 %
{ 
public 

class 
ProductController "
:# $

Controller% /
{ 
public 
static 
int 
restID  
=! "
$num# $
;$ %
public 
static 
decimal 
	totalCost '
=( )
$num* +
;+ ,
public 
static 
List 
< 
Models !
.! "

Ingredient" ,
>, -

modelsList. 8
=9 :
new; >
List? C
<C D
ModelsD J
.J K

IngredientK U
>U V
(V W
)W X
;X Y
public 
IRedRobinRepo 
Repo !
{" #
get$ '
;' (
}) *
public 
ProductController  
(  !
IRedRobinRepo! .
repo/ 3
)3 4
{ 	
Repo 
= 
repo 
; 
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
IEnumerable 
< 

Restaurant "
>" #
libRests$ ,
=- .
Repo/ 3
.3 4
GetAllRestaurants4 E
(E F
)F G
;G H
IEnumerable 
< 
Models 
. 

Restaurant )
>) *
webRests+ 3
=4 5
libRests6 >
.> ?
Select? E
(E F
xF G
=>H J
newK N
ModelsO U
.U V

RestaurantV `
{ 
Id 
= 
x 
. 
Id 
, 
Location 
= 
x 
. 
Location %
,% &
Phone   
=   
x   
.   
Phone   
}!! 
)!! 
;!! 
return"" 
View"" 
("" 
webRests""  
)""  !
;""! "
}## 	
public&& 
ActionResult&& 
Details&& #
(&&# $
int&&$ '
id&&( *
)&&* +
{'' 	
restID(( 
=(( 
id(( 
;(( 
IEnumerable)) 
<)) 
ResPro)) 
>)) 
	libResPro))  )
=))* +
Repo)), 0
.))0 1
GetAllProductsDB))1 A
())A B
id))B D
)))D E
;))E F

Restaurant** 
libRest** 
=**  
Repo**! %
.**% &
GetRestaurantById**& 7
(**7 8
id**8 :
)**: ;
;**; <
IEnumerable++ 
<++ 
Models++ 
.++ 
Product++ &
>++& '
webPros++( /
=++0 1
	libResPro++2 ;
.++; <
Select++< B
(++B C
x++C D
=>++E G
new++H K
Models++L R
.++R S
Product++S Z
{,, 
Id-- 
=-- 
x-- 
.-- 
	productId--  
,--  !
productName.. 
=.. 
Repo.. "
..." #
GetProductById..# 1
(..1 2
x..2 3
...3 4
	productId..4 =
)..= >
...> ?
Name..? C
,..C D
Type// 
=// 
Repo// 
.// 
GetProductById// *
(//* +
x//+ ,
.//, -
	productId//- 6
)//6 7
.//7 8
Type//8 <
,//< =
	TotalCost00 
=00 
Repo00  
.00  !
GetProductById00! /
(00/ 0
x000 1
.001 2
	productId002 ;
)00; <
.00< =
Cost00= A
,00A B

Restaurant11 
=11 
libRest11 $
.11$ %
Location11% -
}22 
)22 
;22 
return44 
View44 
(44 
webPros44 
)44  
;44  !
}55 	
public88 
ActionResult88 
IngredientsList88 +
(88+ ,
)88, -
{99 	
IEnumerable;; 
<;; 
RestIng;; 
>;;  

libRestIng;;! +
=;;, -
Repo;;. 2
.;;2 3
GetAllIngredientsDB;;3 F
(;;F G
restID;;G M
);;M N
;;;N O
Library<< 
.<< 
Models<< 
.<< 

Restaurant<< %
libRest<<& -
=<<. /
Repo<<0 4
.<<4 5
GetRestaurantById<<5 F
(<<F G
restID<<G M
)<<M N
;<<N O
IEnumerable== 
<== 
Models== 
.== 

Ingredient== )
>==) *
webRests==+ 3
===4 5

libRestIng==6 @
.==@ A
Select==A G
(==G H
x==H I
=>==J L
new==M P
Models==Q W
.==W X

Ingredient==X b
{>> 
Id?? 
=?? 
x?? 
.?? 
ingredientId?? #
,??# $
name@@ 
=@@ 
Repo@@ 
.@@ 
GetIngredientById@@ -
(@@- .
x@@. /
.@@/ 0
ingredientId@@0 <
)@@< =
.@@= >
Name@@> B
,@@B C

QtyToStockAA 
=AA 
xAA 
.AA 
	resIngQtyAA (
,AA( )
CostBB 
=BB 
RepoBB 
.BB 
GetIngredientByIdBB -
(BB- .
xBB. /
.BB/ 0
ingredientIdBB0 <
)BB< =
.BB= >
CostBB> B
,BBB C

RestaurantCC 
=CC 
libRestCC $
.CC$ %
LocationCC% -
}DD 
)DD 
;DD 
returnGG 
ViewGG 
(GG 
webRestsGG  
)GG  !
;GG! "
}HH 	
[KK 	
HttpPostKK	 
]KK 
publicMM	 
ActionResultMM 
IngredientsListMM ,
(MM, -
ModelsMM- 3
.MM3 4

IngredientMM4 >

ingredientMM? I
)MMI J
{NN 	
tryQQ 
{RR 
returnUU 
RedirectToActionUU '
(UU' (
nameofUU( .
(UU. /
CreateUU/ 5
)UU5 6
)UU6 7
;UU7 8
}VV 
catchWW 
{XX 
returnYY 
ViewYY 
(YY 
)YY 
;YY 
}ZZ 
}[[ 	
public__ 
ActionResult__ 
Create__ "
(__" #
)__# $
{`` 	
returnaa 
Viewaa 
(aa 
)aa 
;aa 
}bb 	
[ee 	
HttpPostee	 
]ee 
[ff 	$
ValidateAntiForgeryTokenff	 !
]ff! "
publicgg 
ActionResultgg 
Creategg "
(gg" #
Modelsgg# )
.gg) *
Productgg* 1
productgg2 9
)gg9 :
{hh 	
tryii 
{jj 
ifkk 
(kk 

ModelStatekk 
.kk 
IsValidkk &
)kk& '
{ll 
Repomm 
.mm 

AddProductmm #
(mm# $
newmm$ '
Productsmm( 0
{nn 
Nameoo 
=oo 
productoo &
.oo& '
productNameoo' 2
,oo2 3
Typepp 
=pp 
productpp &
.pp& '
Typepp' +
}qq 
)qq 
;qq 
Reporr 
.rr 
Saverr 
(rr 
)rr 
;rr  
Repott 
.tt  
AddRestaurantProducttt -
(tt- .
newtt. 1
ResPrott2 8
{uu 
	productIdvv !
=vv" #
Repovv$ (
.vv( )

GetLastProvv) 3
(vv3 4
)vv4 5
.vv5 6
Lastvv6 :
(vv: ;
)vv; <
.vv< =
Idvv= ?
,vv? @
restaurantIdww $
=ww% &
restIDww' -
}xx 
)xx 
;xx 
Repoyy 
.yy 
Saveyy 
(yy 
)yy 
;yy  
return{{ 
RedirectToAction{{ +
({{+ ,
nameof{{, 2
({{2 3
IngredientsList{{3 B
){{B C
){{C D
;{{D E
}|| 
return}} 
View}} 
(}} 
product}} #
)}}# $
;}}$ %
}~~ 
catch 
{
ÄÄ 
return
ÅÅ 
View
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
ActionResult
ÖÖ 
AddIngredient
ÖÖ )
(
ÖÖ) *
int
ÖÖ* -
id
ÖÖ. 0
)
ÖÖ0 1
{
ÜÜ 	"
IngredientsInventory
áá  
libRest
áá! (
=
áá) *
Repo
áá+ /
.
áá/ 0
GetIngredientById
áá0 A
(
ááA B
id
ááB D
)
ááD E
;
ááE F
RestIng
àà 
resIng
àà 
=
àà 
Repo
àà !
.
àà! "%
GetIngredientByIdIngRes
àà" 9
(
àà9 :
id
àà: <
)
àà< =
;
àà= >
var
ââ 
webRest
ââ 
=
ââ 
new
ââ 
Models
ââ $
.
ââ$ %

Ingredient
ââ% /
{
ää 
name
ãã 
=
ãã 
libRest
ãã 
.
ãã 
Name
ãã #
,
ãã# $

QtyToStock
åå 
=
åå 
resIng
åå #
.
åå# $
	resIngQty
åå$ -
,
åå- .
Cost
çç 
=
çç 
libRest
çç 
.
çç 
Cost
çç #
}
éé 
;
éé 
return
èè 
View
èè 
(
èè 
webRest
èè 
)
èè  
;
èè  !
}
êê 	
[
ìì 	
HttpPost
ìì	 
]
ìì 
[
îî 	&
ValidateAntiForgeryToken
îî	 !
]
îî! "
public
ïï 
ActionResult
ïï 
AddIngredient
ïï )
(
ïï) *
Models
ïï* 0
.
ïï0 1

Ingredient
ïï1 ;

ingredient
ïï< F
)
ïïF G
{
ññ 	
try
óó 
{
òò 
if
ôô 
(
ôô 

ModelState
ôô 
.
ôô 
IsValid
ôô &
)
ôô& '
{
öö 
Repo
õõ 
.
õõ "
AddIngredientProduct
õõ -
(
õõ- .
new
õõ. 1
IngPro
õõ2 8
{
úú 
ingredientId
ùù $
=
ùù% &

ingredient
ùù' 1
.
ùù1 2
Id
ùù2 4
,
ùù4 5
	productId
ûû !
=
ûû! "
Repo
ûû# '
.
ûû' (

GetLastPro
ûû( 2
(
ûû2 3
)
ûû3 4
.
ûû4 5
Last
ûû5 9
(
ûû9 :
)
ûû: ;
.
ûû; <
Id
ûû< >
,
ûû> ?
	ingProQty
üü !
=
üü" #

ingredient
üü$ .
.
üü. /
QtyToAdd
üü/ 7
}
†† 
)
†† 
;
†† 
	totalCost
¢¢ 
=
¢¢ 
	totalCost
¢¢  )
+
¢¢* +

ingredient
¢¢, 6
.
¢¢6 7
Cost
¢¢7 ;
*
¢¢; <

ingredient
¢¢< F
.
¢¢F G
QtyToAdd
¢¢G O
;
¢¢O P
Repo
££ 
.
££ 
Save
££ 
(
££ 
)
££ 
;
££  
return
•• 
RedirectToAction
•• +
(
••+ ,
nameof
••, 2
(
••2 3
IngredientsList
••3 B
)
••B C
)
••C D
;
••D E
}
¶¶ 
return
ßß 
View
ßß 
(
ßß 

ingredient
ßß &
)
ßß& '
;
ßß' (
}
®® 
catch
©© 
{
™™ 
return
´´ 
View
´´ 
(
´´ 
)
´´ 
;
´´ 
}
¨¨ 
}
≠≠ 	
public
∞∞ 
ActionResult
∞∞ 
EditTotalCost
∞∞ )
(
∞∞) *
)
∞∞* +
{
±± 	
try
≤≤ 
{
≥≥ 
Products
¥¥ 
prod
¥¥ 
=
¥¥ 
Repo
¥¥  $
.
¥¥$ %

GetLastPro
¥¥% /
(
¥¥/ 0
)
¥¥0 1
.
¥¥1 2
Last
¥¥2 6
(
¥¥6 7
)
¥¥7 8
;
¥¥8 9
prod
µµ 
.
µµ 
Cost
µµ 
=
µµ 
	totalCost
µµ %
;
µµ% &
Repo
∂∂ 
.
∂∂ 
UpdateProduct
∂∂ "
(
∂∂" #
prod
∂∂# '
)
∂∂' (
;
∂∂( )
Repo
∑∑ 
.
∑∑ 
Save
∑∑ 
(
∑∑ 
)
∑∑ 
;
∑∑ 
return
ππ 
RedirectToAction
ππ '
(
ππ' (
nameof
ππ( .
(
ππ. /
Index
ππ/ 4
)
ππ4 5
)
ππ5 6
;
ππ6 7
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
)
ªª 
{
ºº 
return
ΩΩ 
View
ΩΩ 
(
ΩΩ 
)
ΩΩ 
;
ΩΩ 
}
ææ 
}
øø 	
public
¡¡ 
ActionResult
¡¡ 
Edit
¡¡  
(
¡¡  !
int
¡¡! $
id
¡¡% '
)
¡¡' (
{
¬¬ 	
return
√√ 
View
√√ 
(
√√ 
)
√√ 
;
√√ 
}
ƒƒ 	
[
«« 	
HttpPost
««	 
]
«« 
[
»» 	&
ValidateAntiForgeryToken
»»	 !
]
»»! "
public
…… 
ActionResult
…… 
Edit
……  
(
……  !
int
……! $
id
……% '
,
……' (
IFormCollection
……) 8

collection
……9 C
)
……C D
{
   	
try
ÀÀ 
{
ÃÃ 
return
œœ 
RedirectToAction
œœ '
(
œœ' (
nameof
œœ( .
(
œœ. /
Index
œœ/ 4
)
œœ4 5
)
œœ5 6
;
œœ6 7
}
–– 
catch
—— 
{
““ 
return
”” 
View
”” 
(
”” 
)
”” 
;
”” 
}
‘‘ 
}
’’ 	
public
ÿÿ 
ActionResult
ÿÿ 
Delete
ÿÿ "
(
ÿÿ" #
int
ÿÿ# &
id
ÿÿ' )
)
ÿÿ) *
{
ŸŸ 	
return
⁄⁄ 
View
⁄⁄ 
(
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
}
€€ 	
[
ﬁﬁ 	
HttpPost
ﬁﬁ	 
]
ﬁﬁ 
[
ﬂﬂ 	&
ValidateAntiForgeryToken
ﬂﬂ	 !
]
ﬂﬂ! "
public
‡‡ 
ActionResult
‡‡ 
Delete
‡‡ "
(
‡‡" #
int
‡‡# &
id
‡‡' )
,
‡‡) *
IFormCollection
‡‡+ :

collection
‡‡; E
)
‡‡E F
{
·· 	
try
‚‚ 
{
„„ 
return
ÊÊ 
RedirectToAction
ÊÊ '
(
ÊÊ' (
nameof
ÊÊ( .
(
ÊÊ. /
Index
ÊÊ/ 4
)
ÊÊ4 5
)
ÊÊ5 6
;
ÊÊ6 7
}
ÁÁ 
catch
ËË 
{
ÈÈ 
return
ÍÍ 
View
ÍÍ 
(
ÍÍ 
)
ÍÍ 
;
ÍÍ 
}
ÎÎ 
}
ÏÏ 	
}
ÓÓ 
}ÔÔ ÷A
aC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Controllers\RestaurantController.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Controllers %
{ 
public 

class  
RestaurantController %
:& '

Controller( 2
{ 
public 
IRedRobinRepo 
Repo !
{" #
get$ '
;' (
}) *
public  
RestaurantController #
(# $
IRedRobinRepo$ 1
repo2 6
)6 7
{ 	
Repo 
= 
repo 
; 
} 	
public 
ActionResult 
Index !
(! "
[" #
	FromQuery# ,
], -
string- 3
search4 :
=; <
$str= ?
)? @
{ 	
IEnumerable 
< 

Restaurant "
>" #
libRests$ ,
=- .
Repo/ 3
.3 4
GetAllRestaurants4 E
(E F
)F G
;G H
IEnumerable 
< 
Models 
. 

Restaurant )
>) *
webRests+ 3
=4 5
libRests6 >
.> ?
Select? E
(E F
xF G
=>H J
newK N
ModelsO U
.U V

RestaurantV `
{ 
Id 
= 
x 
. 
Id 
, 
Location 
= 
x 
. 
Location %
,% &
Phone 
= 
x 
. 
Phone 
} 
) 
; 
return   
View   
(   
webRests    
)    !
;  ! "
}!! 	
public$$ 
ActionResult$$ 
Details$$ #
($$# $
int$$$ '
id$$( *
)$$* +
{%% 	
return&& 
View&& 
(&& 
)&& 
;&& 
}'' 	
public** 
ActionResult** 
Create** "
(**" #
)**# $
{++ 	
return,, 
View,, 
(,, 
),, 
;,, 
}-- 	
[00 	
HttpPost00	 
]00 
[11 	$
ValidateAntiForgeryToken11	 !
]11! "
public22 
ActionResult22 
Create22 "
(22" #
Models22# )
.22) *

Restaurant22* 4

restaurant225 ?
)22? @
{33 	
try44 
{55 
if66 
(66 

ModelState66 
.66 
IsValid66 &
)66& '
{77 
Repo88 
.88 
AddRestaurant88 &
(88& '
new88' *

Restaurant88+ 5
{99 
Location::  
=::! "

restaurant::# -
.::- .
Location::. 6
,::6 7
Phone;; 
=;; 

restaurant;;  *
.;;* +
Phone;;+ 0
,;;0 1
}<< 
)<< 
;<< 
Repo== 
.== 
Save== 
(== 
)== 
;==  
return?? 
RedirectToAction?? +
(??+ ,
nameof??, 2
(??2 3
Index??3 8
)??8 9
)??9 :
;??: ;
}@@ 
returnAA 
ViewAA 
(AA 

restaurantAA &
)AA& '
;AA' (
}BB 
catchCC 
{DD 
returnEE 
ViewEE 
(EE 
)EE 
;EE 
}FF 
}GG 	
publicJJ 
ActionResultJJ 
EditJJ  
(JJ  !
intJJ! $
idJJ% '
)JJ' (
{KK 	

RestaurantLL 
libRestLL 
=LL  
RepoLL! %
.LL% &
GetRestaurantByIdLL& 7
(LL7 8
idLL8 :
)LL: ;
;LL; <
varMM 
webRestMM 
=MM 
newMM 
ModelsMM $
.MM$ %

RestaurantMM% /
{NN 
IdOO 
=OO 
libRestOO 
.OO 
IdOO 
,OO  
LocationPP 
=PP 
libRestPP "
.PP" #
LocationPP# +
,PP+ ,
PhoneQQ 
=QQ 
libRestQQ 
.QQ  
PhoneQQ  %
}RR 
;RR 
returnSS 
ViewSS 
(SS 
webRestSS 
)SS  
;SS  !
}TT 	
[WW 	
HttpPostWW	 
]WW 
[XX 	$
ValidateAntiForgeryTokenXX	 !
]XX! "
publicYY 
ActionResultYY 
EditYY  
(YY  !
[YY! "
	FromRouteYY" +
]YY+ ,
intYY, /
idYY0 2
,YY2 3
ModelsYY4 :
.YY: ;

RestaurantYY; E

restaurantYYF P
)YYP Q
{ZZ 	
try[[ 
{\\ 
if]] 
(]] 

ModelState]] 
.]] 
IsValid]] &
)]]& '
{^^ 

Restaurant__ 
libRest__ &
=__' (
Repo__) -
.__- .
GetRestaurantById__. ?
(__? @
id__@ B
)__B C
;__C D
libRest`` 
.`` 
Location`` $
=``% &

restaurant``' 1
.``1 2
Location``2 :
;``: ;
libRestaa 
.aa 
Phoneaa !
=aa" #

restaurantaa$ .
.aa. /
Phoneaa/ 4
;aa4 5
Repobb 
.bb 
UpdateRestaurantbb )
(bb) *
libRestbb* 1
)bb1 2
;bb2 3
Repocc 
.cc 
Savecc 
(cc 
)cc 
;cc  
returnee 
RedirectToActionee +
(ee+ ,
nameofee, 2
(ee2 3
Indexee3 8
)ee8 9
)ee9 :
;ee: ;
}ff 
returngg 
Viewgg 
(gg 

restaurantgg &
)gg& '
;gg' (
}hh 
catchii 
(ii 
	Exceptionii 
)ii 
{jj 
returnkk 
Viewkk 
(kk 

restaurantkk &
)kk& '
;kk' (
}ll 
}mm 	
publicpp 
ActionResultpp 
Deletepp "
(pp" #
intpp# &
idpp' )
)pp) *
{qq 	

Restaurantrr 
libRestrr 
=rr  
Reporr! %
.rr% &
GetRestaurantByIdrr& 7
(rr7 8
idrr8 :
)rr: ;
;rr; <
varss 
webRestss 
=ss 
newss 
Modelsss $
.ss$ %

Restaurantss% /
{tt 
Iduu 
=uu 
libRestuu 
.uu 
Iduu 
,uu  
Locationvv 
=vv 
libRestvv "
.vv" #
Locationvv# +
}ww 
;ww 
returnxx 
Viewxx 
(xx 
webRestxx 
)xx  
;xx  !
}yy 	
[|| 	
HttpPost||	 
]|| 
[}} 	$
ValidateAntiForgeryToken}}	 !
]}}! "
public~~ 
ActionResult~~ 
Delete~~ "
(~~" #
int~~# &
id~~' )
,~~) *
[~~+ ,
	BindNever~~, 5
]~~5 6
IFormCollection~~6 E

collection~~F P
)~~P Q
{ 	
try
ÄÄ 
{
ÅÅ 
Repo
ÇÇ 
.
ÇÇ 
DeleteRestaurant
ÇÇ %
(
ÇÇ% &
id
ÇÇ& (
)
ÇÇ( )
;
ÇÇ) *
Repo
ÉÉ 
.
ÉÉ 
Save
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
return
ÖÖ 
RedirectToAction
ÖÖ '
(
ÖÖ' (
nameof
ÖÖ( .
(
ÖÖ. /
Index
ÖÖ/ 4
)
ÖÖ4 5
)
ÖÖ5 6
;
ÖÖ6 7
}
ÜÜ 
catch
áá 
{
àà 
return
ââ 
View
ââ 
(
ââ 
)
ââ 
;
ââ 
}
ää 
}
ãã 	
}
åå 
}çç ñ8
aC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Controllers\StatisticsController.cs
	namespace		 	
RedRobin		
 
.		 
WebApp		 
.		 
Controllers		 %
{

 
public 

class  
StatisticsController %
:& '

Controller( 2
{ 
public 
static 
int 
restID  
=! "
$num# $
;$ %
public 
IRedRobinRepo 
Repo !
{" #
get$ '
;' (
}) *
public  
StatisticsController #
(# $
IRedRobinRepo$ 1
repo2 6
)6 7
{ 	
Repo 
= 
repo 
; 
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
IEnumerable 
< 
Library 
.  
Models  &
.& '

Restaurant' 1
>1 2
libRests3 ;
=< =
Repo> B
.B C
GetAllRestaurantsC T
(T U
)U V
;V W
IEnumerable 
< 
Models 
. 

Restaurant )
>) *
webRests+ 3
=4 5
libRests6 >
.> ?
Select? E
(E F
xF G
=>H J
newK N
ModelsO U
.U V

RestaurantV `
{ 
Id 
= 
x 
. 
Id 
, 
Location 
= 
x 
. 
Location %
,% &
Phone 
= 
x 
. 
Phone 
} 
) 
; 
return   
View   
(   
webRests    
)    !
;  ! "
}!! 	
public$$ 
ActionResult$$ 
Details$$ #
($$# $
int$$$ '
id$$( *
)$$* +
{%% 	
return&& 
View&& 
(&& 
)&& 
;&& 
}'' 	
public** 
ActionResult** 
Create** "
(**" #
)**# $
{++ 	
return,, 
View,, 
(,, 
),, 
;,, 
}-- 	
[00 	
HttpPost00	 
]00 
[11 	$
ValidateAntiForgeryToken11	 !
]11! "
public22 
ActionResult22 
Create22 "
(22" #
IFormCollection22# 2

collection223 =
)22= >
{33 	
try44 
{55 
return88 
RedirectToAction88 '
(88' (
nameof88( .
(88. /
Index88/ 4
)884 5
)885 6
;886 7
}99 
catch:: 
{;; 
return<< 
View<< 
(<< 
)<< 
;<< 
}== 
}>> 	
publicAA 
ActionResultAA 
EditAA  
(AA  !
intAA! $
idAA% '
)AA' (
{BB 	
returnCC 
ViewCC 
(CC 
)CC 
;CC 
}DD 	
[GG 	
HttpPostGG	 
]GG 
[HH 	$
ValidateAntiForgeryTokenHH	 !
]HH! "
publicII 
ActionResultII 
EditII  
(II  !
intII! $
idII% '
,II' (
IFormCollectionII) 8

collectionII9 C
)IIC D
{JJ 	
tryKK 
{LL 
returnOO 
RedirectToActionOO '
(OO' (
nameofOO( .
(OO. /
IndexOO/ 4
)OO4 5
)OO5 6
;OO6 7
}PP 
catchQQ 
{RR 
returnSS 
ViewSS 
(SS 
)SS 
;SS 
}TT 
}UU 	
publicXX 
ActionResultXX 
DeleteXX "
(XX" #
intXX# &
idXX' )
)XX) *
{YY 	
returnZZ 
ViewZZ 
(ZZ 
)ZZ 
;ZZ 
}[[ 	
[^^ 	
HttpPost^^	 
]^^ 
[__ 	$
ValidateAntiForgeryToken__	 !
]__! "
public`` 
ActionResult`` 
Delete`` "
(``" #
int``# &
id``' )
,``) *
IFormCollection``+ :

collection``; E
)``E F
{aa 	
trybb 
{cc 
returnff 
RedirectToActionff '
(ff' (
nameofff( .
(ff. /
Indexff/ 4
)ff4 5
)ff5 6
;ff6 7
}gg 
catchhh 
{ii 
returnjj 
Viewjj 
(jj 
)jj 
;jj 
}kk 
}ll 	
publicnn 
ActionResultnn 

Statisticsnn &
(nn& '
intnn' *
idnn+ -
)nn- .
{oo 	
restIDpp 
=pp 
idpp 
;pp 
IEnumerabless 
<ss 
Libraryss 
.ss  
Modelsss  &
.ss& '
Productsss' /
>ss/ 0

libRestIngss1 ;
=ss< =
Reposs> B
.ssB C
GetAllProductsssC Q
(ssQ R
restIDssR X
)ssX Y
;ssY Z
IEnumerablett 
<tt 
Modelstt 
.tt 

Statisticstt )
>tt) *
webReststt+ 3
=tt4 5

libRestIngtt6 @
.tt@ A
SelectttA G
(ttG H
xttH I
=>ttJ L
newttM P
ModelsttQ W
.ttW X

StatisticsttX b
{uu 
Idvv 
=vv 
xvv 
.vv 
Idvv 
,vv 
productNameww 
=ww 
xww 
.ww  
Nameww  $
,ww$ %
	TotalCostxx 
=xx 
xxx 
.xx 
Costxx "
,xx" #
Typeyy 
=yy 
xyy 
.yy 
Typeyy 
,yy 
productCountzz 
=zz 
Repozz #
.zz# $
GetCountProductszz$ 4
(zz4 5
xzz5 6
.zz6 7
Idzz7 9
)zz9 :
.zz: ;
Countzz; @
(zz@ A
)zzA B
,zzB C
RevenueCost{{ 
={{ 
Repo{{ "
.{{" #
GetProductRevenue{{# 4
({{4 5
x{{5 6
.{{6 7
Id{{7 9
){{9 :
.{{: ;
Sum{{; >
({{> ?
r{{? @
=>{{@ B
r{{B C
.{{C D
Cost{{D H
){{H I
}}} 
)}} 
.}} 
OrderByDescending}}  
(}}  !
y}}! "
=>}}" $
y}}$ %
.}}% &
RevenueCost}}& 1
)}}1 2
;}}2 3
return 
View 
( 
webRests  
)  !
;! "
}
ÄÄ 	
}
ÅÅ 
}ÇÇ √
VC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Models\ErrorViewModel.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Models  
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
bool		 
ShowRequestId		 !
=>		" $
!		% &
string		& ,
.		, -
IsNullOrEmpty		- :
(		: ;
	RequestId		; D
)		D E
;		E F
}

 
} ©
RC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Models\Ingredient.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Models  
{		 
public

 

class

 

Ingredient

 
{ 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str )
)) *
]* +
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
public 
decimal 
QtyToAdd 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
decimal 

QtyToStock !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str ,
), -
]- .
public   
decimal   
Cost   
{   
get   !
;  ! "
set  # &
;  & '
}  ( )
public"" 
string"" 

Restaurant""  
{""! "
get""# &
;""& '
set""( +
;""+ ,
}""- .
public$$ 
bool$$ 
hasIngredient$$ !
{$$" #
get$$$ '
;$$' (
set$$) ,
;$$, -
}$$. /
}%% 
}&& ≈
NC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Models\Orders.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Models  
{ 
public		 

class		 
Orders		 
{

 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
public 
DateTime 
	orderDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Display	 
( 
Name 
= 
$str '
)' (
]( )
public 
decimal 

orderTotal !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Display	 
( 
Name 
= 
$str '
)' (
]( )
[ 	
Required	 
] 
public 
string 
custName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str 7
)7 8
]8 9
[ 	
RegularExpression	 
( 
$str =
,= >
ErrorMessage? K
=L M
$strN o
)o p
]p q
public 
string 
	custPhone 
{  !
get" %
;% &
set' *
;* +
}, -
public 
IEnumerable 
< 
Product "
>" #
products$ ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
}   ›
OC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Models\Product.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Models  
{ 
public		 

class		 
Product		 
{

 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
[ 	
Required	 
] 
public 
string 
productName !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Display	 
( 
Name 
= 
$str 
) 
]  
[ 	
Required	 
] 
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Display	 
( 
Name 
= 
$str )
)) *
]* +
public 
decimal 
	TotalCost  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 

Restaurant  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
int 
OngredientID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
ingredientName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
[   	
Required  	 
]   
public"" 
int"" 
QtyOrder"" 
{"" 
get"" !
;""! "
set""# &
;""& '
}""( )
public$$ 
decimal$$ 
Cost$$ 
{$$ 
get$$ !
;$$! "
set$$# &
;$$& '
}$$( )
}'' 
}(( ´

RC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Models\Restaurant.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Models  
{ 
public		 

class		 

Restaurant		 
{

 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
] 
public 
string 
Location 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str 9
)9 :
]: ;
[ 	
RegularExpression	 
( 
$str =
,= >
ErrorMessage? K
=L M
$strN o
)o p
]p q
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ˘
RC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Models\Statistics.cs
	namespace 	
RedRobin
 
. 
WebApp 
. 
Models  
{ 
public		 

class		 

Statistics		 
{

 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
string 
productName !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Display	 
( 
Name 
= 
$str 
) 
]  
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
public 
decimal 
	TotalCost  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
Display	 
( 
Name 
= 
$str ,
), -
]- .
public 
decimal 
RevenueCost "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
int 
productCount 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ç	
HC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Program.cs
	namespace 	
RedRobin
 
. 
WebApp 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	 
CreateWebHostBuilder  
(  !
args! %
)% &
.& '
Build' ,
(, -
)- .
.. /
Run/ 2
(2 3
)3 4
;4 5
} 	
public 
static 
IWebHostBuilder % 
CreateWebHostBuilder& :
(: ;
string; A
[A B
]B C
argsD H
)H I
=>J L
WebHost 
.  
CreateDefaultBuilder (
(( )
args) -
)- .
. 

UseStartup 
< 
Startup #
># $
($ %
)% &
;& '
} 
} ™
HC:\revature\project0\daniel-project0\redrobin\RedRobin.WebApp\Startup.cs
	namespace 	
RedRobin
 
. 
WebApp 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDbContext !
<! "
RedRobinContext" 1
>1 2
(2 3
options3 :
=>; =
options   
.   
UseSqlServer   #
(  # $
Configuration  $ 1
.  1 2
GetConnectionString  2 E
(  E F
$str  F R
)  R S
)  S T
)  T U
;  U V
services"" 
."" 
	Configure"" 
<"" 
CookiePolicyOptions"" 2
>""2 3
(""3 4
options""4 ;
=>""< >
{## 
options%% 
.%% 
CheckConsentNeeded%% *
=%%+ ,
context%%- 4
=>%%5 7
true%%8 <
;%%< =
options&& 
.&& !
MinimumSameSitePolicy&& -
=&&. /
SameSiteMode&&0 <
.&&< =
None&&= A
;&&A B
}'' 
)'' 
;'' 
services)) 
.)) 
AddMvc)) 
()) 
))) 
.)) #
SetCompatibilityVersion)) 5
())5 6 
CompatibilityVersion))6 J
.))J K
Version_2_2))K V
)))V W
;))W X
services++ 
.++ 
	AddScoped++ 
<++ 
IRedRobinRepo++ ,
,++, -
RedRobinRepo++. :
>++: ;
(++; <
)++< =
;++= >
},, 	
public// 
void// 
	Configure// 
(// 
IApplicationBuilder// 1
app//2 5
,//5 6
IHostingEnvironment//7 J
env//K N
)//N O
{00 	
if11 
(11 
env11 
.11 
IsDevelopment11 !
(11! "
)11" #
)11# $
{22 
app33 
.33 %
UseDeveloperExceptionPage33 -
(33- .
)33. /
;33/ 0
}44 
else55 
{66 
app77 
.77 
UseExceptionHandler77 '
(77' (
$str77( 5
)775 6
;776 7
app99 
.99 
UseHsts99 
(99 
)99 
;99 
}:: 
app<< 
.<< 
UseHttpsRedirection<< #
(<<# $
)<<$ %
;<<% &
app== 
.== 
UseStaticFiles== 
(== 
)==  
;==  !
app>> 
.>> 
UseCookiePolicy>> 
(>>  
)>>  !
;>>! "
app@@ 
.@@ 
UseMvc@@ 
(@@ 
routes@@ 
=>@@  
{AA 
routesBB 
.BB 
MapRouteBB 
(BB  
nameCC 
:CC 
$strCC #
,CC# $
templateDD 
:DD 
$strDD F
)DDF G
;DDG H
}EE 
)EE 
;EE 
}FF 	
}GG 
}HH 